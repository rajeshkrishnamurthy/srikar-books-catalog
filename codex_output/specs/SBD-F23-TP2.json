{
  "topicId": "SBD-F23-TP2",
  "featureId": "F23",
  "title": "Inline Composer Fields and Copy",
  "area": "Admin / Available Books",
  "goal": "Render bundle name and price inputs, helper copy, and placeholder price blocks inside the inline composer shell so admins immediately see the validation rules.",
  "environment": "HTML + Vanilla JavaScript + Firebase + Jest + jsdom",
  "status": "GREEN",
  "specs": [
    {
      "id": "SBD-F23-TP2-001",
      "title": "HelperCopyAnchorsBundleRule",
      "given": "An admin opens admin.html and inspects the Available Books inline bundle composer markup.",
      "when": "The drawer renders its helper paragraph for explaining bundle requirements.",
      "then": "It exposes #inlineBundleHelper with copy stating bundle name and bundle price are required so downstream code can reference the id for aria-describedby."
    },
    {
      "id": "SBD-F23-TP2-002",
      "title": "InputsDeclareRequiredMarkers",
      "given": "The inline composer form renders bundle name and bundle price inputs.",
      "when": "Those inputs are declared in admin.html.",
      "then": "Each input carries the HTML required attribute, mirrors aria-required=\"true\", and points aria-describedby to #inlineBundleHelper so assistive tech hears the rule."
    },
    {
      "id": "SBD-F23-TP2-003",
      "title": "RecommendedBlocksSeedPlaceholder",
      "given": "initInventory mounts the inline bundle panel shell before any controller data populates pricing.",
      "when": "The composer initializes its recommended and total price sections.",
      "then": "#inlineBundleRecommended and #inlineBundleTotal show the em dash placeholder (â€”) so admins see stable copy until adapters provide pricing."
    }
  ],
  "fixtures": [
    "/tests/fixtures/adminInventoryHarness.js"
  ],
  "tests": [
    "/tests/spec/admin/SBD-F23-TP2-001_InlineBundleHelperCopy.spec.js",
    "/tests/spec/admin/SBD-F23-TP2-002_InlineBundleInputsRequired.spec.js",
    "/tests/spec/admin/SBD-F23-TP2-003_RecommendedPricePlaceholder.spec.js"
  ],
  "reports": {
    "red": "codex_output/reports/SBD-F23-TP2_red.txt",
    "green": "codex_output/reports/SBD-F23-TP2_green.txt"
  },
  "changedFiles": [
    "admin.html",
    "tests/fixtures/adminInventoryHarness.js",
    "tests/spec/admin/SBD-F23-TP2-001_InlineBundleHelperCopy.spec.js",
    "tests/spec/admin/SBD-F23-TP2-002_InlineBundleInputsRequired.spec.js",
    "tests/spec/admin/SBD-F23-TP2-003_RecommendedPricePlaceholder.spec.js",
    "codex_output/specs/SBD-F23-TP2.json",
    "codex_output/reports/SBD-F23-TP2_red.txt",
    "codex_output/reports/SBD-F23-TP2_green.txt"
  ],
  "changeNotes": [
    "Stamped the inline composer inputs inside admin.html with required/aria-required attributes and tied both fields to a newly id-ed #inlineBundleHelper paragraph so validation guidance matches the Add Bundle screen.",
    "Assigned the helper paragraph its `inlineBundleHelper` id to act as the stable aria-describedby target mandated by the tests.",
    "Synced the admin inventory harness DOM with production markup, including em dash placeholders for recommended/total price blocks, ensuring jsdom tests reflect the shipped UI."
  ],
  "validation": {
    "status": "GREEN",
    "command": "npm test -- --watchAll=false SBD-F23-TP2",
    "report": "codex_output/reports/SBD-F23-TP2_green.txt"
  }
}
