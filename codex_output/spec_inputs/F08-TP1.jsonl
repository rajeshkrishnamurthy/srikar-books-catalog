{"type":"meta","topicId":"F08-TP1","title":"Capture Sale Header"}
{"type":"given","text":"An admin launches the Add Sale workflow and customers exist."}
{"type":"when","text":"They pick a customer and sale date."}
{"type":"then","text":"The sale form locks those values and blocks progress until both are valid."}
{"type":"ui-anchor","selector":"#saleHeaderForm"}
{"type":"ui-anchor","selector":"#saleHeaderSaleDate"}
{"type":"ui-anchor","selector":"#saleHeaderContinue"}
{"type":"ui-anchor","selector":"#saleCustomerLookupSearch"}
{"type":"ui-anchor","selector":"#saleCustomerLookupList"}
{"type":"ui-anchor","selector":"#saleHeaderCustomerSummary"}
{"type":"js-handler","event":"submit","selector":"#saleHeaderForm","handler":"handleSaleHeaderSubmit"}
{"type":"js-handler","event":"input","selector":"#saleCustomerLookupSearch","handler":"handleCustomerLookupInput"}
{"type":"js-handler","event":"click","selector":"#saleCustomerLookupList [data-action=\"selectCustomer\"]","handler":"selectSaleCustomer"}
{"type":"adapter-call","function":"startSaleDraft","args":["customerId","saleDate"]}
{"type":"adapter-call","function":"searchCustomers","args":["query"]}
{"type":"adapter-call","function":"emitCustomerSelection","args":["customerId"]}
